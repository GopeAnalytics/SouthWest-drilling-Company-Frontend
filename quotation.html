<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>South West - Quotation Management</title>
    <meta name="author" content="SKEP Foundation-GopeAnalytics" />
    <meta
      name="description"
      content="SouthWest Drilling Company - Quotation Management"
    />
    <meta property="og:title" content="SouthWest Drilling Company" />
    <meta property="og:type" content="SouthWest Drilling website" />
    <meta
      property="og:image"
      content="https://southwestsystem.org/og-logo.jpg"
    />
    <meta property="og:url" content="https://southwestsystem.org" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="./site.webmanifest" />
    <link rel="stylesheet" href="./mains.css" />
    <link rel="stylesheet" href="./header.css" />
    <link rel="stylesheet" href="./footer.css" />
    <link rel="stylesheet" href="./quotation.css" />
  </head>
  <body>
    <!-- Login Modal (Same as CMS) -->
    <div id="loginModal" class="login-modal-overlay" style="display: none">
      <div class="login-modal">
        <div class="login-header">
          <h2>Quotation Management System</h2>
          <p>Please log in to continue</p>
        </div>
        <div class="login-form-container">
          <h3>Admin Login</h3>
          <form id="loginForm" class="login-form">
            <div class="form-group">
              <label for="username">Username</label>
              <input type="text" id="username" name="username" required />
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <div class="password-wrapper">
                <input type="password" id="password" name="password" required />
                <i class="fas fa-eye password-toggle-icon"></i>
              </div>
            </div>
            <button type="submit" class="login-btn">
              <i class="fas fa-sign-in-alt"></i> Login
            </button>
          </form>
          <div
            id="loginError"
            class="error-message"
            style="display: none"
          ></div>
        </div>
        <div class="login-options">
          <a href="content-management.html">Back to CMS</a>
        </div>
      </div>
    </div>

    <header class="header">
      <nav class="nav-container">
        <a href="index.html" class="logo">
          <img
            src="/logo.webp"
            alt="SouthWest Drilling Company Logo"
            class="logo-image"
          />
          SouthWest Drilling Company
        </a>
        <ul class="nav-menu" id="navMenu">
          <li><a href="index.html">Home</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="media.html">Media</a></li>
          <li>
            <a href="quotation.html" class="active">Quotations</a>
          </li>
          <li><a href="content-management.html">CMS</a></li>
        </ul>
        <div class="mobile-menu-toggle" id="mobileMenuToggle">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </nav>
    </header>

    <main class="main-content" id="quotationMainContent" style="display: none">
      <div class="quotation-container">
        <!-- Header -->
        <header class="quotation-header">
          <div class="header-content">
            <h1>
              <i class="fas fa-file-invoice-dollar"></i> Quotation & Invoice
              Manager
            </h1>
            <div class="user-info">
              <span id="userEmail"></span>
              <button id="logoutBtn" class="btn btn-secondary">
                <i class="fas fa-sign-out-alt"></i> Logout
              </button>
            </div>
          </div>
        </header>

        <!-- Main Content -->
        <div class="quotation-content">
          <!-- List View -->
          <div id="listView" class="view-container">
            <div class="toolbar">
              <h2><i class="fas fa-list"></i> My Quotations & Invoices</h2>
              <div class="toolbar-actions">
                <select id="statusFilter" class="filter-select">
                  <option value="all">All Status</option>
                  <option value="draft">Drafts</option>
                  <option value="completed">Completed</option>
                </select>
                <button id="newQuotationBtn" class="btn btn-primary">
                  <i class="fas fa-plus"></i> New Quotation
                </button>
              </div>
            </div>

            <div id="quotationsList" class="quotations-grid">
              <!-- Quotations will be loaded here -->
            </div>

            <div id="emptyState" class="empty-state" style="display: none">
              <i
                class="fas fa-file-alt"
                style="font-size: 48px; margin-bottom: 20px; color: #cbd5e0"
              ></i>
              <p>No quotations found. Create your first quotation!</p>
              <button
                id="createFirstQuotation"
                class="btn btn-primary"
                style="margin-top: 15px"
              >
                <i class="fas fa-plus"></i> Create First Quotation
              </button>
            </div>
          </div>

          <!-- Form View -->
          <div id="formView" class="view-container" style="display: none">
            <div class="form-header">
              <button id="backToListBtn" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Back to List
              </button>
              <h2 id="formTitle"><i class="fas fa-edit"></i> New Quotation</h2>
            </div>

            <form id="quotationForm" class="quotation-form">
              <input type="hidden" id="quotationId" />

              <!-- Document Type Selection -->
              <div class="form-section">
                <h3><i class="fas fa-file-signature"></i> Document Type</h3>
                <div class="radio-group">
                  <label>
                    <input
                      type="radio"
                      name="documentType"
                      value="quotation"
                      checked
                    />
                    <i class="fas fa-quote-left"></i> Quotation
                  </label>
                  <label>
                    <input type="radio" name="documentType" value="invoice" />
                    <i class="fas fa-receipt"></i> Invoice
                  </label>
                </div>
              </div>

              <!-- Document Details -->
              <div class="form-section">
                <h3><i class="fas fa-info-circle"></i> Document Details</h3>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="documentNumber">Document Number *</label>
                    <input
                      type="text"
                      id="documentNumber"
                      required
                      placeholder="e.g., SWS12035"
                    />
                  </div>
                  <div class="form-group">
                    <label for="date">Date *</label>
                    <input type="date" id="date" required />
                  </div>
                  <div class="form-group">
                    <label for="reference">Reference</label>
                    <input
                      type="text"
                      id="reference"
                      placeholder="Optional reference"
                    />
                  </div>
                </div>
              </div>

              <!-- Company Information -->
              <div class="form-section">
                <h3><i class="fas fa-building"></i> Company Information</h3>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="companyName">Company Name</label>
                    <input
                      type="text"
                      id="companyName"
                      value="SOUTH WEST SYSTEMS"
                    />
                  </div>
                  <div class="form-group">
                    <label for="companyPhone">Phone</label>
                    <input
                      type="text"
                      id="companyPhone"
                      value="0725210022 / 0757841080"
                    />
                  </div>
                  <div class="form-group">
                    <label for="companyEmail">Email</label>
                    <input
                      type="email"
                      id="companyEmail"
                      value="Southwestsystems20@gmail.com"
                    />
                  </div>
                  <div class="form-group full-width">
                    <label for="companyAddress">Address</label>
                    <input
                      type="text"
                      id="companyAddress"
                      value="South West Systems International"
                    />
                  </div>
                </div>
              </div>

              <!-- Client Information -->
              <div class="form-section">
                <h3><i class="fas fa-user-tie"></i> Client Information</h3>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="clientName">Client Name *</label>
                    <input type="text" id="clientName" required />
                  </div>
                  <div class="form-group">
                    <label for="clientPhone">Phone</label>
                    <input type="text" id="clientPhone" />
                  </div>
                  <div class="form-group">
                    <label for="clientEmail">Email</label>
                    <input type="email" id="clientEmail" />
                  </div>
                  <div class="form-group full-width">
                    <label for="clientAddress">Address</label>
                    <input type="text" id="clientAddress" />
                  </div>
                </div>
              </div>

              <!-- Site Information -->
              <div class="form-section">
                <h3><i class="fas fa-map-marker-alt"></i> Site Information</h3>
                <div class="form-group">
                  <label for="siteInfo">BH Site / Project Location</label>
                  <input
                    type="text"
                    id="siteInfo"
                    placeholder="e.g., JUJA FARM, KIAMBU COUNTY"
                  />
                </div>
              </div>

              <!-- Line Items -->
              <div class="form-section">
                <h3><i class="fas fa-list-ol"></i> Line Items</h3>
                <div id="lineItemsContainer">
                  <!-- Line items will be added here -->
                </div>
                <button
                  type="button"
                  id="addLineItemBtn"
                  class="btn btn-secondary"
                >
                  <i class="fas fa-plus"></i> Add Line Item
                </button>
              </div>

              <!-- Tax and Notes -->
              <div class="form-section">
                <div class="form-grid">
                  <div class="form-group">
                    <label for="taxRate">VAT Rate (%)</label>
                    <input
                      type="number"
                      id="taxRate"
                      value="16"
                      step="0.01"
                      min="0"
                      max="100"
                    />
                  </div>
                  <div class="form-group full-width">
                    <label for="notes">Notes</label>
                    <textarea
                      id="notes"
                      rows="3"
                      placeholder="Additional notes or terms..."
                    ></textarea>
                  </div>
                </div>
              </div>

              <!-- Totals Summary -->
              <div class="form-section totals-section">
                <h3><i class="fas fa-calculator"></i> Totals</h3>
                <div class="totals-grid">
                  <div class="total-row">
                    <span>Subtotal:</span>
                    <span id="subtotalDisplay">KES 0.00</span>
                  </div>
                  <div class="total-row">
                    <span>VAT (<span id="vatRateDisplay">16</span>%):</span>
                    <span id="vatDisplay">KES 0.00</span>
                  </div>
                  <div class="total-row total-final">
                    <span>Total:</span>
                    <span id="totalDisplay">KES 0.00</span>
                  </div>
                </div>
              </div>

              <!-- Form Actions -->
              <div class="form-actions">
                <button
                  type="button"
                  id="saveDraftBtn"
                  class="btn btn-secondary"
                >
                  <i class="fas fa-save"></i> Save as Draft
                </button>
                <button
                  type="button"
                  id="saveCompletedBtn"
                  class="btn btn-primary"
                >
                  <i class="fas fa-check"></i> Save as Completed
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none">
      <div class="spinner"></div>
      <p style="color: white; margin-top: 20px">Processing...</p>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h3>SouthWest Drilling Company</h3>
          <p>
            Professional water drilling services for residential, commercial,
            and agricultural needs. Serving Kenyan regions with reliable and
            efficient well drilling solutions.
          </p>
          <div class="social-links">
            <a href="#" title="X (Twitter)"><i class="fab fa-twitter"></i></a>
            <a href="#" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            <a
              href="https://web.facebook.com/Southwestdrillingcompany"
              title="Facebook"
            >
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" title="TikTok"><i class="fab fa-tiktok"></i></a>
            <a
              href="https://www.instagram.com/swsdrillingcompany/"
              title="Instagram"
            >
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
          </div>
        </div>

        <div class="footer-section">
          <h3>Services</h3>
          <a href="borehole-drilling.html" class="footer-link"
            >Borehole Drilling</a
          >
          <a href="water-surveys.html" class="footer-link">Water Survey</a>
          <a href="pump-installations.html" class="footer-link"
            >Pump Installation</a
          >
          <a href="maintenance.html" class="footer-link">Maintenance</a>
        </div>

        <div class="footer-section">
          <h3>Company</h3>
          <a href="about.html" class="footer-link">About Us</a>
          <a href="media.html" class="footer-link">Media</a>
          <a href="projects.html" class="footer-link">Projects</a>
          <a href="faq.html" class="footer-link">FAQs</a>
          <a href="content-management.html" class="footer-link">CMS</a>
          <a href="quotation.html" class="footer-link">Quotations</a>
        </div>

        <div class="footer-section">
          <h3>Contact</h3>
          <a href="contact.html" class="footer-link">Get in Touch</a>
          <a href="tel:+254725210022" class="footer-link">+254 725 210 022</a>
          <a href="mailto:info@southwestdrilling.com" class="footer-link">
            info@southwestdrilling.com
          </a>
          <div>90 -50300 Vihiga</div>
          <div>Mbale, Kenya.</div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>© 2025 South West Water Drilling Company. All rights reserved.</p>
      </div>
    </footer>

    <script src="./hamburger.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/number-to-words@1.2.4/numberToWords.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="./quotation.js"></script>
  </body>
</html>
